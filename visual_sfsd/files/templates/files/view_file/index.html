{% extends "main.html" %}

{% load static %}

{% block title %}
    {{ file.name }} -
{% endblock title %}

{% block scripts %}
    <script>
        let fileData = {{ data|safe }};
        const FILE_NAME = "{{ file.name }}";
        const FILE_ACCESS = "{{ file.file_access }}";
        const FILE_TYPE = "{{ file.file_type }}";

        {% if file.owner == request.user %}
            const SAVE_FILE_URL = "{% url 'save_file' file.id %}";
            const EDIT_FILE_NAME_URL = "{% url 'save_file_name' file.id %}";
            const TOGGLE_FILE_VISIBILITY_URL = "{% url 'toggle_public' file.id %}";
        {% endif %}
    </script>
    <script type="module" src="{% static 'js/files/view_file/index.js' %}"></script>
    <script type="module" src="{% static 'js/files/view_file/guide.js' %}"></script>
    {% if file.owner == request.user %}
        <script type="module" src="{% static 'js/files/view_file/shared/saveFile.js' %}"></script>
        <script type="module" src="{% static 'js/files/view_file/shared/deleteFile.js' %}"></script>
        <script type="module" src="{% static 'js/files/view_file/shared/editFileName.js' %}"></script>
        <script type="module" src="{% static 'js/files/view_file/shared/toggleFileVisibility.js' %}"></script>
    {% endif %}
{% endblock %}


{% block stylesheets %}
    <link rel="stylesheet" href="{% static 'css/view_file/output.css' %}">
{% endblock %}


{% block navbar %}
    {% include 'components/navbar/view_file/navbar_view_file.html' %}
{% endblock %}


{% block content %}
    {% include "files/view_file/components/guide/all.html" %}
    {% include "files/view_file/components/animation-speed.html" %}

    {% if file.owner == request.user %}
        {% include 'files/view_file/components/save-file.html' %}
    {% else %}
        {% include 'files/view_file/components/clone-file.html' %}
    {% endif %}

    <div class="flex flex-row items-center justify-between">
        {% include "files/view_file/components/toolsbar.html" %}
        {% include "files/view_file/components/ms.html" %}
        {% include "files/view_file/components/mc.html" %}
    </div>

{% endblock content %}

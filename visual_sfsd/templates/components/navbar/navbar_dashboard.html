{% load static %}

<nav class="fixed top-0 left-0 w-full flex bg-white p-4 z-10">
    <div class="w-[400px]"></div>
    <div class="flex grow">
        <form method="GET" action="{% url 'dashboard' %}">
            <div class="flex py-3 px-5 space-x-2 rounded-md" style="background-color: #DCD9D9">
                {% csrf_token %}
                <select name="file_access"
                        class="form-select appearance-none cursor-pointer
      block
      w-full
      px-3
      py-1.5
      text-base
      font-normal
      text-gray-700
      bg-white bg-clip-padding bg-no-repeat
      border border-solid border-gray-300
      rounded
      transition
      ease-in-out
      m-0
      focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" aria-label="Type">
                    <option {% if file_access == "all" %}selected{% endif %} value="all">All</option>
                    <option {% if file_access == "sequential" %}selected{% endif %} value="sequential">Sequential
                    </option>
                    <option {% if file_access == "indexed" %}selected{% endif %} value="indexed">Indexed</option>
                    <option {% if file_access == "hashing" %}selected{% endif %} value="hashing">Hashing</option>
                </select>
                <input class="border-0 outline-0 bg-transparent pl-2 focus:ring-0"
                       type="search"
                       placeholder="Search my files"
                       name="query"
                       value="{{ query }}"
                />
                <button type="submit" class="w-[7rem] flex items-center justify-center">
                    <img class="w-4/6" src="{% static 'imgs/navbar-dashboard/search.svg' %}" alt="Search">
                </button>
            </div>
        </form>
    </div>
    <a href="{% url 'profile' request.user.username %}"
       class="profile flex mr-4 items-center px-3 hover:bg-gray-200 transition-all hover:px-4 rounded-md transition-all">
        <div class="img-profile mr-5">
            <img src="{% static 'imgs/user.png' %}" class="rounded-full w-12" alt="">
        </div>
        <div class="user-info">
            <div class="text-[#222] font-bold">{{ request.user.first_name }} {{ request.user.last_name }}</div>
            <div class="user-type">{{ request.user.account.get_role_display }}</div>
        </div>
    </a>
</nav>

<style>
    input:focus {
        border: none  !important;
        outline: none !important;
    }
    
    input[type="search"]::-webkit-search-decoration,
    input[type="search"]::-webkit-search-cancel-button,
    input[type="search"]::-webkit-search-results-button,
    input[type="search"]::-webkit-search-results-decoration {
        -webkit-appearance: none;
    }
</style>

